webpackJsonp([0],[,,,function(t,s,a){"use strict";var e=a(13),i=a.n(e),n=a(1),o=a(33),l=a(21),r=a.n(l),c=!window.location.host.includes("localhost"),u=c?"//music-checkpoint.herokuapp.com":"//localhost:3000";n.default.use(o.a);var d=new o.a.Store({state:{myTunes:[],playlists:[],currentPlaylist:{},currentList:!1,currentSong:"",results:[],user:{},loggedIn:!1},mutations:{setResults:function(t,s){t.results=s.results},getMyTunes:function(t,s){t.playlists=s},login:function(t,s){t.user=s.data,t.loggedIn=!0},logout:function(t){t.user={},t.loggedIn=!1,t.currentPlaylist={},t.playlists=[],t.currentList=!1},addPlaylist:function(t,s){t.playlists.push(s)},setCurrentPlaylist:function(t,s){t.currentPlaylist=s,t.currentList=!0},showPlaylists:function(t){t.currentList=!1,currentPlaylist={}},playSong:function(t,s){t.currentSong=s,console.log(t.currentSong)},removePlaylist:function(t,s){t.playlists.forEach(function(a){a._id==s&&t.playlists.splice(t.playlists.indexOf(a),1)})}},actions:{getMusicByArtist:function(t,s){var a=t.commit,e=(t.dispatch,"https://itunes.apple.com/search?term="+s),i="//bcw-getter.herokuapp.com/?url="+encodeURIComponent(e);r.a.get(i).then(function(t){a("setResults",JSON.parse(t))})},getMyTunes:function(t,s){var a=t.commit;t.dispatch;r.a.get(u+"/api/playlists/playlist/"+s).then(function(t){a("getMyTunes",t)})},addToMyTunes:function(t,s){var a=t.commit;t.dispatch;r.a.ajax({contentType:"application/json",method:"PUT",url:u+"/api/playlists/"+s._id,data:i()(s)}).then(function(){a("setCurrentPlaylist",s)}).fail(function(){return logError()})},removeTrack:function(t,s){t.commit,t.dispatch},promoteTrack:function(t,s){t.commit,t.dispatch},demoteTrack:function(t,s){t.commit,t.dispatch},playSong:function(t,s){var a=t.commit;t.dispatch;a("playSong",s)},addPlaylist:function(t,s){var a=t.commit;t.dispatch;r.a.post(u+"/api/playlists",s).then(function(t){a("addPlaylist",t)})},setCurrentPlaylist:function(t,s){var a=t.commit;t.dispatch;r.a.get(u+"/api/playlists/"+s).then(function(t){a("setCurrentPlaylist",t)})},showPlaylists:function(t){var s=t.commit;t.dispatch;s("showPlaylists")},saveOrder:function(t,s){var a=t.commit;t.dispatch;r.a.ajax({contentType:"application/json",method:"PUT",url:u+"/api/playlists/"+s._id,data:i()(s)}).then(function(){a("setCurrentPlaylist",s)}).fail(function(){return logError()})},removePlaylist:function(t,s){var a=t.commit;t.dispatch;r.a.ajax({contentType:"application/json",method:"DELETE",url:u+"/api/playlists/"+s}).then(function(){a("removePlaylist",s)}).fail(function(){return logError()})},signup:function(t,s){var a=t.commit;t.dispatch;r.a.post(u+"/register",s).then(function(t){a("login",t)})},login:function(t,s){var a=t.commit,e=t.dispatch;r.a.post(u+"/login",s).then(function(t){a("login",t),e("getMyTunes",t.data._id)})},logout:function(t){var s=t.commit;t.dispatch;r.a.ajax({contentType:"application/json",method:"DELETE",url:u+"/logout"}).then(s("logout"))},logError:function(t){console.error("UMM SOMETHING BROKE: ",t)}}});s.a=d},function(t,s){},function(t,s,a){a(18);var e=a(0)(a(7),a(29),null,null);t.exports=e.exports},,function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a(26),i=a.n(e),n=a(24),o=a.n(n),l=a(25),r=a.n(l),c=a(23),u=a.n(c);s.default={name:"app",data:function(){return{query:"",showMyMusic:!1}},components:{Results:i.a,MyMusic:o.a,Navbar:r.a,Player:u.a},methods:{getMusic:function(){this.$store.dispatch("getMusicByArtist",this.query),this.query=""},getMyTunes:function(){this.$store.dispatch("getMyTunes",this.$store.state.user._id),this.showMyMusic=!this.showMyMusic}},computed:{loggedIn:function(){return this.showMyMusic=this.$store.state.loggedIn,this.$store.state.loggedIn},currentSong:function(){return this.$store.state.currentSong}}}},function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"player",data:function(){return{song:""}},computed:{currentSong:function(){return this.song=this.$store.state.currentSong,this.$store.state.currentSong}},mounted:function(){this.$watch("song",function(){var t=this.$refs.player;t.src=this.currentSong,t.load(),t.play()})}}},function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a(2),i=a.n(e);s.default={name:"myMusic",data:function(){return{playlistName:"",playlist:{}}},methods:{addPlaylist:function(){var t={title:this.playlistName,userId:this.$store.state.user._id};this.$store.dispatch("addPlaylist",t),this.playlistName=""},setCurrentPlaylist:function(t){this.$store.dispatch("setCurrentPlaylist",t),this.toggleRightSidenav()},showPlaylists:function(){this.$store.dispatch("showPlaylists")},saveOrder:function(){this.$store.dispatch("saveOrder",this.playlist)},playSong:function(t){this.$store.dispatch("playSong",t)},removeSong:function(t){var s=this;this.playlist.songs.forEach(function(a){a.trackName==t&&(s.playlist.songs.splice(s.playlist.songs.indexOf(a),1),s.saveOrder())})},removePlaylist:function(t){this.$store.dispatch("removePlaylist",t)},toggleLeftSidenav:function(){this.$refs.leftSidenav.toggle()},toggleRightSidenav:function(){this.$refs.rightSidenav.toggle()},closeRightSidenav:function(){this.$refs.rightSidenav.close()},open:function(t){},close:function(t){}},computed:{playlists:function(){return this.$store.state.playlists},currentPlaylist:function(){return this.playlist=this.$store.state.currentPlaylist,this.$store.state.currentPlaylist},currentList:function(){return this.$store.state.currentList}},components:{draggable:i.a}}},function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"navbar",data:function(){return{name:"",email:"",password:"",confirmPassword:"",loggedIn:!1}},methods:{signup:function(){var t={name:this.name,email:this.email,password:this.password};this.$store.dispatch("signup",t),this.loggedIn=!0,this.name="",this.email="",this.password=""},login:function(){var t={email:this.email,password:this.password};this.$store.dispatch("login",t),this.loggedIn=!0,this.email="",this.password=""},logout:function(){this.$store.dispatch("logout"),this.loggedIn=!1},openDialog:function(t){this.$refs[t].open()},cancelDialog:function(t){this.$refs[t].close()},closeDialog:function(t){this.password==this.confirmPassword?(this.$refs[t].close(),this.signup()):console.log("it broke")}},computed:{user:function(){return this.$store.state.user}},mounted:function(){if(!this.loggedIn){var t={email:"demo@example.com",password:"password"};this.$store.dispatch("login",t),this.loggedIn=!0}}}},function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a(2),i=a.n(e);s.default={name:"results",data:function(){return{song:""}},methods:{addToMyTunes:function(t){var t={trackName:t.trackName,artistName:t.artistName,collectionName:t.collectionName,previewUrl:t.previewUrl,userId:this.$store.state.user._id,playlistId:this.$store.state.currentPlaylist._id},s=this.$store.state.currentPlaylist;s.songs.push(t),this.$store.dispatch("addToMyTunes",s)},playSong:function(t){this.$store.dispatch("playSong",t)}},computed:{songs:function(){return this.$store.state.results}},components:{draggable:i.a}}},function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a(1),i=a(5),n=a.n(i),o=a(3),l=a(6),r=a.n(l),c=a(4);a.n(c);e.default.use(r.a),new e.default({el:"#app",template:"<App/>",store:o.a,VueMaterial:r.a,components:{App:n.a}})},,,,function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},,,function(t,s,a){a(16);var e=a(0)(a(8),a(27),null,null);t.exports=e.exports},function(t,s,a){a(17);var e=a(0)(a(9),a(28),null,null);t.exports=e.exports},function(t,s,a){a(19);var e=a(0)(a(10),a(30),null,null);t.exports=e.exports},function(t,s,a){a(20);var e=a(0)(a(11),a(31),null,null);t.exports=e.exports},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.currentSong?a("audio",{ref:"player",staticClass:"audio-controls",attrs:{id:"audio",controls:""}},[a("source",{attrs:{src:t.currentSong,type:"audio/mp4"}})]):t._e()},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"my-music"}},[a("div",{attrs:{id:"side-bar"}},[a("md-toolbar",[a("h2",{staticClass:"md-title"},[t._v("My Playlists")])]),t._v(" "),t._l(t.playlists,function(s,e){return a("md-list",{key:e,attrs:{id:"list"}},[a("md-list-item",{on:{click:function(a){t.setCurrentPlaylist(s._id)}}},[a("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(a){t.removePlaylist(s._id)}}},[a("md-icon",[t._v("remove_circle")])],1),t._v(" "),a("span",[t._v(t._s(s.title))])],1)],1)}),t._v(" "),a("form",{attrs:{novalidate:""},on:{submit:function(s){s.stopPropagation(),s.preventDefault(),t.addPlaylist(s)}}},[a("md-input-container",[a("label",[t._v("Playlist Name")]),t._v(" "),a("md-input",{model:{value:t.playlistName,callback:function(s){t.playlistName=s},expression:"playlistName"}})],1),t._v(" "),a("md-button",{staticClass:"md-raised md-primary"},[t._v("Add Playlist")])],1),t._v(" "),a("md-sidenav",{ref:"rightSidenav",staticClass:"md-right",on:{open:function(s){t.open("Right")},close:function(s){t.close("Right")}}},[a("md-toolbar",[a("div",{staticClass:"md-toolbar-container"},[a("h3",{staticClass:"md-title"},[t._v(t._s(t.playlist.title))])])]),t._v(" "),a("draggable",{staticClass:"list-group",on:{end:t.saveOrder},model:{value:t.playlist.songs,callback:function(s){t.playlist.songs=s},expression:"playlist.songs"}},t._l(t.currentPlaylist.songs,function(s,e){return a("md-list",{key:e},[a("md-list-item",[a("md-button",{staticClass:"md-icon-button md-list-action playlist-play",on:{click:function(a){t.playSong(s.previewUrl)}}},[a("md-icon",[t._v("play_arrow")])],1),t._v(" "),a("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(a){t.removeSong(s.trackName)}}},[a("md-icon",[t._v("remove_circle")])],1),t._v(" "),a("span",[t._v(t._s(s.trackName))])],1)],1)})),t._v(" "),a("md-button",{staticClass:"md-raised md-accent",on:{click:t.closeRightSidenav}},[t._v("Close")])],1)],2)])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container-fluid"},[a("navbar"),t._v(" "),a("div",{staticClass:"header"},[t._m(0),t._v(" "),a("div",{staticClass:"row search-form"},[a("div",{staticClass:"col-xs-12 col-md-6 col-md-offset-3"},[a("form",{staticClass:"form-inline",attrs:{novalidate:""},on:{submit:function(s){s.stopPropagation(),s.preventDefault(),t.getMusic(s)}}},[a("md-input-container",[a("label",{staticClass:"search-label"},[t._v("Search for Music")]),t._v(" "),a("md-input",{staticClass:"search-input",attrs:{id:"search-input"},model:{value:t.query,callback:function(s){t.query=s},expression:"query"}})],1),t._v(" "),a("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"}},[t._v("Search")]),t._v(" "),a("md-button",{directives:[{name:"show",rawName:"v-show",value:t.loggedIn,expression:"loggedIn"}],staticClass:"md-raised md-primary",attrs:{type:"button"},on:{click:t.getMyTunes}},[a("span",{domProps:{textContent:t._s(t.showMyMusic?"Hide":"Show")}}),t._v(" Playlists")])],1)])])]),t._v(" "),a("div",{staticClass:"row"},[t.showMyMusic?a("div",{staticClass:"col-xs-6 col-md-9"},[a("results")],1):a("div",{staticClass:"col-xs-12"},[a("results")],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMyMusic,expression:"showMyMusic"}],staticClass:"col-xs-6 col-md-3"},[a("MyMusic")],1)]),t._v(" "),a("player")],1)])},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("h1",{staticClass:"site-title"},[t._v("Find Your Flavor")])])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"navbar"}},[a("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[a("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"bs-example-navbar-collapse-1"}},[a("form",{directives:[{name:"show",rawName:"v-show",value:!t.loggedIn,expression:"!loggedIn"}],staticClass:"navbar-form navbar-right",on:{submit:function(s){s.preventDefault(),t.login(s)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email",required:""},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password",required:""},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Login")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(s){t.openDialog("dialog1")}}},[t._v("Signup")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loggedIn,expression:"loggedIn"}],staticClass:"logged-in nav navbar navbar-right"},[a("h4",{staticStyle:{display:"inline-block"}},[t._v("Hello, "+t._s(t.user.name))]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.logout}},[t._v("Logout")])])]),t._v(" "),a("md-dialog",{ref:"dialog1",attrs:{"md-open-from":"#custom","md-close-to":"#custom"}},[a("md-dialog-title",[t._v("Create New Account")]),t._v(" "),a("md-dialog-content",[a("form",[a("md-input-container",[a("label",[t._v("Name")]),t._v(" "),a("md-input",{model:{value:t.name,callback:function(s){t.name=s},expression:"name"}})],1),t._v(" "),a("md-input-container",[a("label",[t._v("email")]),t._v(" "),a("md-input",{model:{value:t.email,callback:function(s){t.email=s},expression:"email"}})],1),t._v(" "),a("md-input-container",[a("label",[t._v("Password")]),t._v(" "),a("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1),t._v(" "),a("md-input-container",[a("label",[t._v("Confirm Password")]),t._v(" "),a("md-input",{attrs:{type:"password"},model:{value:t.confirmPassword,callback:function(s){t.confirmPassword=s},expression:"confirmPassword"}})],1)],1)]),t._v(" "),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(s){t.cancelDialog("dialog1")}}},[t._v("Cancel")]),t._v(" "),a("md-button",{staticClass:"md-primary",on:{click:function(s){t.closeDialog("dialog1")}}},[t._v("Signup")])],1)],1)],1)])])},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"navbar-header"},[a("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-1","aria-expanded":"false"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"})]),t._v(" "),a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Music Finder")])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"results"},[a("div",{staticClass:"row"},t._l(t.songs,function(s,e){return a("div",{key:e,staticClass:"col-xs-12 col-md-4"},[a("div",{staticClass:"card thumbnail overflow"},[a("img",{attrs:{src:s.artworkUrl100,alt:"albumArt"}}),t._v(" "),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"title"},[t._v(t._s(s.trackName))]),t._v(" "),a("h4",{staticClass:"artist"},[t._v(t._s(s.artistName))]),t._v(" "),a("h5",{staticClass:"collection-name"},[t._v(t._s(s.collectionName))]),t._v(" "),a("p",[t._v("$"+t._s(s.collectionPrice))]),t._v(" "),a("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(a){t.playSong(s.previewUrl)}}},[a("md-icon",[t._v("play_arrow")])],1),t._v(" "),a("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(a){t.addToMyTunes(s)}}},[a("md-icon",[t._v("playlist_add")])],1)],1)])])}))])},staticRenderFns:[]}}],[12]);
//# sourceMappingURL=app.dd3103178e80d443ff39.js.map